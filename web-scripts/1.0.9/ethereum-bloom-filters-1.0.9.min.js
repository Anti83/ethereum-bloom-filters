!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ethereumBloomFilters=t()}}(function(){return function(){return function t(e,r,n){function o(u,s){if(!r[u]){if(!e[u]){var f="function"==typeof require&&require;if(!s&&f)return f(u,!0);if(i)return i(u,!0);var a=new Error("Cannot find module '"+u+"'");throw a.code="MODULE_NOT_FOUND",a}var c=r[u]={exports:{}};e[u][0].call(c.exports,function(t){return o(e[u][1][t]||t)},c,c.exports,t,e,r,n)}return r[u].exports}for(var i="function"==typeof require&&require,u=0;u<n.length;u++)o(n[u]);return o}}()({1:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=t("./utils");function o(t){return"string"==typeof t&&(!!/^(0x)?[0-9a-f]{512}$/i.test(t)&&!(!/^(0x)?[0-9a-f]{512}$/.test(t)&&!/^(0x)?[0-9A-F]{512}$/.test(t)))}function i(t,e){"object"==typeof e&&e.constructor===Uint8Array&&(e=n.bytesToHex(e));const r=n.keccak256(e).replace("0x","");for(let e=0;e<12;e+=4){const n=(parseInt(r.substr(e,2),16)<<8)+parseInt(r.substr(e+2,2),16)&2047,o=1<<n%4;if((u(t.charCodeAt(t.length-1-Math.floor(n/4)))&o)!==o)return!1}return!0}function u(t){if(t>=48&&t<=57)return t-48;if(t>=65&&t<=70)return t-55;if(t>=97&&t<=102)return t-87;throw new Error("invalid bloom")}function s(t){return"string"==typeof t&&(!!/^(0x)?[0-9a-f]{64}$/i.test(t)&&!(!/^(0x)?[0-9a-f]{64}$/.test(t)&&!/^(0x)?[0-9A-F]{64}$/.test(t)))}function f(t){return"string"==typeof t&&(!!t.match(/^(0x)?[0-9a-fA-F]{40}$/)||!!t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/))}r.isBloom=o,r.isInBloom=i,r.isUserEthereumAddressInBloom=function(t,e){if(!o(t))throw new Error("Invalid bloom given");if(!f(e))throw new Error(`Invalid ethereum address given: "${e}"`);return i(t,n.padLeft(e,64))},r.isContractAddressInBloom=function(t,e){if(!o(t))throw new Error("Invalid bloom given");if(!f(e))throw new Error(`Invalid contract address given: "${e}"`);return i(t,e)},r.isTopicInBloom=function(t,e){if(!o(t))throw new Error("Invalid bloom given");if(!s(e))throw new Error("Invalid topic");return i(t,e)},r.isTopic=s,r.isAddress=f},{"./utils":2}],2:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=t("js-sha3");function o(t){if(null==t)throw new Error("cannot convert null value to array");if("string"==typeof t){const e=t.match(/^(0x)?[0-9a-fA-F]*$/);if(!e)throw new Error("invalid hexidecimal string");if("0x"!==e[1])throw new Error("hex string must have 0x prefix");(t=t.substring(2)).length%2&&(t="0"+t);const r=[];for(let e=0;e<t.length;e+=2)r.push(parseInt(t.substr(e,2),16));return i(new Uint8Array(r))}if(function(t){if(!t||parseInt(String(t.length))!=t.length||"string"==typeof t)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(r<0||r>=256||parseInt(String(r))!=r)return!1}return!0}(t))return i(new Uint8Array(t));throw new Error("invalid arrayify value")}function i(t){return void 0!==t.slice?t:(t.slice=(()=>{const e=Array.prototype.slice.call(arguments);return i(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t)}r.keccak256=function(t){return"0x"+n.keccak_256(o(t))},r.padLeft=((t,e)=>{const r=/^0x/i.test(t)||"number"==typeof t,n=e-(t=t.toString().replace(/^0x/i,"")).length+1>=0?e-t.length+1:0;return(r?"0x":"")+new Array(n).join("0")+t}),r.bytesToHex=function(t){const e=[];for(let r=0;r<t.length;r++)e.push((t[r]>>>4).toString(16)),e.push((15&t[r]).toString(16));return`0x${e.join("").replace(/^0+/,"")}`},r.toByteArray=o},{"js-sha3":3}],3:[function(t,e,r){(function(t,r){!function(){"use strict";var n="input is invalid type",o="object"==typeof window,i=o?window:{};i.JS_SHA3_NO_WINDOW&&(o=!1);var u=!o&&"object"==typeof self;!i.JS_SHA3_NO_NODE_JS&&"object"==typeof t&&t.versions&&t.versions.node?i=r:u&&(i=self);var s=!i.JS_SHA3_NO_COMMON_JS&&"object"==typeof e&&e.exports,f=!i.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,a="0123456789abcdef".split(""),c=[4,1024,262144,67108864],l=[0,8,16,24],h=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],p=[224,256,384,512],d=[128,256],y=["hex","buffer","arrayBuffer","array","digest"],w={128:168,256:136};!i.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!f||!i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var v=function(t,e,r){return function(n){return new j(t,e,t).update(n)[r]()}},g=function(t,e,r){return function(n,o){return new j(t,e,o).update(n)[r]()}},b=function(t,e,r){return function(e,n,o,i){return _["cshake"+t].update(e,n,o,i)[r]()}},A=function(t,e,r){return function(e,n,o,i){return _["kmac"+t].update(e,n,o,i)[r]()}},m=function(t,e,r,n){for(var o=0;o<y.length;++o){var i=y[o];t[i]=e(r,n,i)}return t},x=function(t,e){var r=v(t,e,"hex");return r.create=function(){return new j(t,e,t)},r.update=function(t){return r.create().update(t)},m(r,v,t,e)},B=[{name:"keccak",padding:[1,256,65536,16777216],bits:p,createMethod:x},{name:"sha3",padding:[6,1536,393216,100663296],bits:p,createMethod:x},{name:"shake",padding:[31,7936,2031616,520093696],bits:d,createMethod:function(t,e){var r=g(t,e,"hex");return r.create=function(r){return new j(t,e,r)},r.update=function(t,e){return r.create(e).update(t)},m(r,g,t,e)}},{name:"cshake",padding:c,bits:d,createMethod:function(t,e){var r=w[t],n=b(t,0,"hex");return n.create=function(n,o,i){return o||i?new j(t,e,n).bytepad([o,i],r):_["shake"+t].create(n)},n.update=function(t,e,r,o){return n.create(e,r,o).update(t)},m(n,b,t,e)}},{name:"kmac",padding:c,bits:d,createMethod:function(t,e){var r=w[t],n=A(t,0,"hex");return n.create=function(n,o,i){return new M(t,e,o).bytepad(["KMAC",i],r).bytepad([n],r)},n.update=function(t,e,r,o){return n.create(t,r,o).update(e)},m(n,A,t,e)}}],_={},k=[],E=0;E<B.length;++E)for(var S=B[E],T=S.bits,I=0;I<T.length;++I){var C=S.name+"_"+T[I];if(k.push(C),_[C]=S.createMethod(T[I],S.padding),"sha3"!==S.name){var O=S.name+T[I];k.push(O),_[O]=_[C]}}function j(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function M(t,e,r){j.call(this,t,e,r)}j.prototype.update=function(t){if(this.finalized)throw new Error("finalize already called");var e,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(n);if(null===t)throw new Error(n);if(f&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||f&&ArrayBuffer.isView(t)))throw new Error(n);e=!0}for(var o,i,u=this.blocks,s=this.byteCount,a=t.length,c=this.blockCount,h=0,p=this.s;h<a;){if(this.reset)for(this.reset=!1,u[0]=this.block,o=1;o<c+1;++o)u[o]=0;if(e)for(o=this.start;h<a&&o<s;++h)u[o>>2]|=t[h]<<l[3&o++];else for(o=this.start;h<a&&o<s;++h)(i=t.charCodeAt(h))<128?u[o>>2]|=i<<l[3&o++]:i<2048?(u[o>>2]|=(192|i>>6)<<l[3&o++],u[o>>2]|=(128|63&i)<<l[3&o++]):i<55296||i>=57344?(u[o>>2]|=(224|i>>12)<<l[3&o++],u[o>>2]|=(128|i>>6&63)<<l[3&o++],u[o>>2]|=(128|63&i)<<l[3&o++]):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++h)),u[o>>2]|=(240|i>>18)<<l[3&o++],u[o>>2]|=(128|i>>12&63)<<l[3&o++],u[o>>2]|=(128|i>>6&63)<<l[3&o++],u[o>>2]|=(128|63&i)<<l[3&o++]);if(this.lastByteIndex=o,o>=s){for(this.start=o-s,this.block=u[c],o=0;o<c;++o)p[o]^=u[o];z(p),this.reset=!0}else this.start=o}return this},j.prototype.encode=function(t,e){var r=255&t,n=1,o=[r];for(r=255&(t>>=8);r>0;)o.unshift(r),r=255&(t>>=8),++n;return e?o.push(n):o.unshift(n),this.update(o),o.length},j.prototype.encodeString=function(t){var e,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(n);if(null===t)throw new Error(n);if(f&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||f&&ArrayBuffer.isView(t)))throw new Error(n);e=!0}var o=0,i=t.length;if(e)o=i;else for(var u=0;u<t.length;++u){var s=t.charCodeAt(u);s<128?o+=1:s<2048?o+=2:s<55296||s>=57344?o+=3:(s=65536+((1023&s)<<10|1023&t.charCodeAt(++u)),o+=4)}return o+=this.encode(8*o),this.update(t),o},j.prototype.bytepad=function(t,e){for(var r=this.encode(e),n=0;n<t.length;++n)r+=this.encodeString(t[n]);var o=e-r%e,i=[];return i.length=o,this.update(i),this},j.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,n=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[r],e=1;e<r+1;++e)t[e]=0;for(t[r-1]|=2147483648,e=0;e<r;++e)n[e]^=t[e];z(n)}},j.prototype.toString=j.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,n=this.outputBlocks,o=this.extraBytes,i=0,u=0,s="";u<n;){for(i=0;i<e&&u<n;++i,++u)t=r[i],s+=a[t>>4&15]+a[15&t]+a[t>>12&15]+a[t>>8&15]+a[t>>20&15]+a[t>>16&15]+a[t>>28&15]+a[t>>24&15];u%e==0&&(z(r),i=0)}return o&&(t=r[i],s+=a[t>>4&15]+a[15&t],o>1&&(s+=a[t>>12&15]+a[t>>8&15]),o>2&&(s+=a[t>>20&15]+a[t>>16&15])),s},j.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,r=this.s,n=this.outputBlocks,o=this.extraBytes,i=0,u=0,s=this.outputBits>>3;t=o?new ArrayBuffer(n+1<<2):new ArrayBuffer(s);for(var f=new Uint32Array(t);u<n;){for(i=0;i<e&&u<n;++i,++u)f[u]=r[i];u%e==0&&z(r)}return o&&(f[i]=r[i],t=t.slice(0,s)),t},j.prototype.buffer=j.prototype.arrayBuffer,j.prototype.digest=j.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,n=this.s,o=this.outputBlocks,i=this.extraBytes,u=0,s=0,f=[];s<o;){for(u=0;u<r&&s<o;++u,++s)t=s<<2,e=n[u],f[t]=255&e,f[t+1]=e>>8&255,f[t+2]=e>>16&255,f[t+3]=e>>24&255;s%r==0&&z(n)}return i&&(t=s<<2,e=n[u],f[t]=255&e,i>1&&(f[t+1]=e>>8&255),i>2&&(f[t+2]=e>>16&255)),f},M.prototype=new j,M.prototype.finalize=function(){return this.encode(this.outputBits,!0),j.prototype.finalize.call(this)};var z=function(t){var e,r,n,o,i,u,s,f,a,c,l,p,d,y,w,v,g,b,A,m,x,B,_,k,E,S,T,I,C,O,j,M,z,N,U,$,F,J,H,L,R,D,V,q,W,P,Y,K,X,Z,G,Q,tt,et,rt,nt,ot,it,ut,st,ft,at,ct;for(n=0;n<48;n+=2)o=t[0]^t[10]^t[20]^t[30]^t[40],i=t[1]^t[11]^t[21]^t[31]^t[41],u=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],f=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],l=t[7]^t[17]^t[27]^t[37]^t[47],e=(p=t[8]^t[18]^t[28]^t[38]^t[48])^(u<<1|s>>>31),r=(d=t[9]^t[19]^t[29]^t[39]^t[49])^(s<<1|u>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=o^(f<<1|a>>>31),r=i^(a<<1|f>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=u^(c<<1|l>>>31),r=s^(l<<1|c>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=f^(p<<1|d>>>31),r=a^(d<<1|p>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=c^(o<<1|i>>>31),r=l^(i<<1|o>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,y=t[0],w=t[1],P=t[11]<<4|t[10]>>>28,Y=t[10]<<4|t[11]>>>28,I=t[20]<<3|t[21]>>>29,C=t[21]<<3|t[20]>>>29,st=t[31]<<9|t[30]>>>23,ft=t[30]<<9|t[31]>>>23,D=t[40]<<18|t[41]>>>14,V=t[41]<<18|t[40]>>>14,N=t[2]<<1|t[3]>>>31,U=t[3]<<1|t[2]>>>31,v=t[13]<<12|t[12]>>>20,g=t[12]<<12|t[13]>>>20,K=t[22]<<10|t[23]>>>22,X=t[23]<<10|t[22]>>>22,O=t[33]<<13|t[32]>>>19,j=t[32]<<13|t[33]>>>19,at=t[42]<<2|t[43]>>>30,ct=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,$=t[14]<<6|t[15]>>>26,F=t[15]<<6|t[14]>>>26,b=t[25]<<11|t[24]>>>21,A=t[24]<<11|t[25]>>>21,Z=t[34]<<15|t[35]>>>17,G=t[35]<<15|t[34]>>>17,M=t[45]<<29|t[44]>>>3,z=t[44]<<29|t[45]>>>3,k=t[6]<<28|t[7]>>>4,E=t[7]<<28|t[6]>>>4,nt=t[17]<<23|t[16]>>>9,ot=t[16]<<23|t[17]>>>9,J=t[26]<<25|t[27]>>>7,H=t[27]<<25|t[26]>>>7,m=t[36]<<21|t[37]>>>11,x=t[37]<<21|t[36]>>>11,Q=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,q=t[8]<<27|t[9]>>>5,W=t[9]<<27|t[8]>>>5,S=t[18]<<20|t[19]>>>12,T=t[19]<<20|t[18]>>>12,it=t[29]<<7|t[28]>>>25,ut=t[28]<<7|t[29]>>>25,L=t[38]<<8|t[39]>>>24,R=t[39]<<8|t[38]>>>24,B=t[48]<<14|t[49]>>>18,_=t[49]<<14|t[48]>>>18,t[0]=y^~v&b,t[1]=w^~g&A,t[10]=k^~S&I,t[11]=E^~T&C,t[20]=N^~$&J,t[21]=U^~F&H,t[30]=q^~P&K,t[31]=W^~Y&X,t[40]=et^~nt&it,t[41]=rt^~ot&ut,t[2]=v^~b&m,t[3]=g^~A&x,t[12]=S^~I&O,t[13]=T^~C&j,t[22]=$^~J&L,t[23]=F^~H&R,t[32]=P^~K&Z,t[33]=Y^~X&G,t[42]=nt^~it&st,t[43]=ot^~ut&ft,t[4]=b^~m&B,t[5]=A^~x&_,t[14]=I^~O&M,t[15]=C^~j&z,t[24]=J^~L&D,t[25]=H^~R&V,t[34]=K^~Z&Q,t[35]=X^~G&tt,t[44]=it^~st&at,t[45]=ut^~ft&ct,t[6]=m^~B&y,t[7]=x^~_&w,t[16]=O^~M&k,t[17]=j^~z&E,t[26]=L^~D&N,t[27]=R^~V&U,t[36]=Z^~Q&q,t[37]=G^~tt&W,t[46]=st^~at&et,t[47]=ft^~ct&rt,t[8]=B^~y&v,t[9]=_^~w&g,t[18]=M^~k&S,t[19]=z^~E&T,t[28]=D^~N&$,t[29]=V^~U&F,t[38]=Q^~q&P,t[39]=tt^~W&Y,t[48]=at^~et&nt,t[49]=ct^~rt&ot,t[0]^=h[n],t[1]^=h[n+1]};if(s)e.exports=_;else{for(E=0;E<k.length;++E)i[k[E]]=_[k[E]];0}}()}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:4}],4:[function(t,e,r){var n,o,i=e.exports={};function u(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function f(t){if(n===setTimeout)return setTimeout(t,0);if((n===u||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:u}catch(t){n=u}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(t){o=s}}();var a,c=[],l=!1,h=-1;function p(){l&&a&&(l=!1,a.length?c=a.concat(c):h=-1,c.length&&d())}function d(){if(!l){var t=f(p);l=!0;for(var e=c.length;e;){for(a=c,c=[];++h<e;)a&&a[h].run();h=-1,e=c.length}a=null,l=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function y(t,e){this.fun=t,this.array=e}function w(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new y(t,e)),1!==c.length||l||f(d)},y.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=w,i.addListener=w,i.once=w,i.off=w,i.removeListener=w,i.removeAllListeners=w,i.emit=w,i.prependListener=w,i.prependOnceListener=w,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}]},{},[1])(1)});